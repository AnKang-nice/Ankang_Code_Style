# ğŸš€ Project Code Rule - å‰ç«¯ä»£ç è§„èŒƒé…ç½®åŒ…

ä¸€ä¸ªå¼€ç®±å³ç”¨çš„å‰ç«¯ä»£ç è§„èŒƒé…ç½®åŒ…ï¼Œä¸ºæ‚¨çš„é¡¹ç›®æä¾›å®Œæ•´çš„ä»£ç è´¨é‡å·¥å…·é“¾é…ç½®ã€‚

## âœ¨ ç‰¹æ€§

- ğŸ¯ **ä¸€é”®åˆå§‹åŒ–** - é€šè¿‡äº¤äº’å¼å‘½ä»¤è¡Œå¿«é€Ÿé…ç½®é¡¹ç›®ä»£ç è§„èŒƒ
- ğŸ”§ **å®Œæ•´å·¥å…·é“¾** - é›†æˆ ESLintã€Stylelintã€Prettierã€Huskyã€Commitlint ç­‰å·¥å…·
- ğŸ¨ **å¤šé¢„å¤„ç†å™¨æ”¯æŒ** - æ”¯æŒ Sass/SCSSã€Lessã€çº¯ CSS ç­‰é¢„å¤„ç†å™¨
- ğŸš« **Git é’©å­é›†æˆ** - è‡ªåŠ¨é…ç½®æäº¤å‰ä»£ç æ£€æŸ¥å’Œæ ¼å¼åŒ–
- ğŸ“ **æ ‡å‡†åŒ–æäº¤** - éµå¾ª Conventional Commits è§„èŒƒçš„æäº¤ä¿¡æ¯æ£€æŸ¥
- ğŸ¨ **VS Code é…ç½®** - æä¾›ç¼–è¾‘å™¨é…ç½®å’Œæ¨èæ‰©å±•
- ğŸ”„ **æ™ºèƒ½ç»§æ‰¿** - æ”¯æŒé¡¹ç›®ç°æœ‰é…ç½®çš„æ™ºèƒ½ç»§æ‰¿å’Œåˆå¹¶

## ğŸ› ï¸ åŒ…å«çš„å·¥å…·

| å·¥å…·            | ç‰ˆæœ¬     | ç”¨é€”                               |
| --------------- | -------- | ---------------------------------- |
| **ESLint**      | ^8.57.0  | JavaScript/TypeScript ä»£ç è´¨é‡æ£€æŸ¥ |
| **Stylelint**   | ^16.12.0 | CSS/SCSS/Less ä»£ç è´¨é‡æ£€æŸ¥         |
| **Prettier**    | ^3.4.2   | ä»£ç æ ¼å¼åŒ–                         |
| **Husky**       | ^9.1.7   | Git é’©å­ç®¡ç†                       |
| **Lint-staged** | ^15.3.0  | æš‚å­˜æ–‡ä»¶æ£€æŸ¥                       |
| **Commitlint**  | ^19.6.1  | æäº¤ä¿¡æ¯è§„èŒƒæ£€æŸ¥                   |

## ğŸ“¦ å®‰è£…

```bash
# ä½¿ç”¨ npm
npm install -D project-code-rule

# ä½¿ç”¨ yarn
yarn add -D project-code-rule

# ä½¿ç”¨ pnpm (æ¨è)
pnpm add -D project-code-rule
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. åˆå§‹åŒ–é¡¹ç›®ä»£ç è§„èŒƒ

```bash
# ä½¿ç”¨ npx
npx init-code-style

# æˆ–ä½¿ç”¨ pnpm
pnpm exec init-code-style
```

### 2. é€‰æ‹©é…ç½®é€‰é¡¹

åˆå§‹åŒ–è¿‡ç¨‹ä¸­ï¼Œæ‚¨éœ€è¦é€‰æ‹©ï¼š

- **CSS é¢„å¤„ç†å™¨**: Sass/SCSSã€Less æˆ–æ— é¢„å¤„ç†å™¨
- **è‡ªåŠ¨ä¿®å¤**: æ˜¯å¦å¼€å¯æäº¤å‰è‡ªåŠ¨ä¿®å¤

### 3. è‡ªåŠ¨é…ç½®å®Œæˆ

å·¥å…·ä¼šè‡ªåŠ¨ï¼š

- å¤åˆ¶æ‰€æœ‰é…ç½®æ–‡ä»¶åˆ°é¡¹ç›®æ ¹ç›®å½•
- å®‰è£…å¿…è¦çš„ä¾èµ–åŒ…
- é…ç½® Husky Git é’©å­
- è®¾ç½® VS Code å·¥ä½œåŒºé…ç½®

## ğŸ“ é¡¹ç›®ç»“æ„

```
project-code-rule/
â”œâ”€â”€ bin/                    # å¯æ‰§è¡Œè„šæœ¬
â”‚   â””â”€â”€ init.js            # ä¸»åˆå§‹åŒ–è„šæœ¬
â”œâ”€â”€ scripts/                # æ ¸å¿ƒè„šæœ¬
â”‚   â”œâ”€â”€ copy-files.js      # é…ç½®æ–‡ä»¶å¤åˆ¶
â”‚   â”œâ”€â”€ install-deps.js    # ä¾èµ–å®‰è£…
â”‚   â””â”€â”€ init-husky.js      # Husky åˆå§‹åŒ–
â”œâ”€â”€ configs/                # é…ç½®æ–‡ä»¶æ¨¡æ¿
â”‚   â”œâ”€â”€ eslint/            # ESLint é…ç½®
â”‚   â”‚   â”œâ”€â”€ base.js        # åŸºç¡€é…ç½®
â”‚   â”‚   â””â”€â”€ .eslintignore  # å¿½ç•¥æ–‡ä»¶é…ç½®
â”‚   â”œâ”€â”€ stylelint/         # Stylelint é…ç½®
â”‚   â”‚   â”œâ”€â”€ base.js        # åŸºç¡€é…ç½®
â”‚   â”‚   â”œâ”€â”€ prerocessors/  # é¢„å¤„ç†å™¨é…ç½®
â”‚   â”‚   â”‚   â”œâ”€â”€ sass.js    # Sass/SCSS é…ç½®
â”‚   â”‚   â”‚   â””â”€â”€ less.js    # Less é…ç½®
â”‚   â”‚   â””â”€â”€ .stylelintignore
â”‚   â”œâ”€â”€ prettier/          # Prettier é…ç½®
â”‚   â”‚   â”œâ”€â”€ index.js       # æ ¼å¼åŒ–è§„åˆ™
â”‚   â”‚   â””â”€â”€ .prettierignore
â”‚   â”œâ”€â”€ commitlint/        # Commitlint é…ç½®
â”‚   â”‚   â””â”€â”€ index.js       # æäº¤è§„èŒƒé…ç½®
â”‚   â”œâ”€â”€ lint-staged/       # Lint-staged é…ç½®
â”‚   â”‚   â””â”€â”€ index.js       # æš‚å­˜æ–‡ä»¶æ£€æŸ¥é…ç½®
â”‚   â”œâ”€â”€ husky/             # Husky é’©å­é…ç½®
â”‚   â”‚   â”œâ”€â”€ pre-commit     # æäº¤å‰é’©å­
â”‚   â”‚   â””â”€â”€ commit-msg     # æäº¤ä¿¡æ¯é’©å­
â”‚   â””â”€â”€ vscode/            # VS Code é…ç½®
â”‚       â”œâ”€â”€ settings.json  # å·¥ä½œåŒºè®¾ç½®
â”‚       â””â”€â”€ extensions.json # æ¨èæ‰©å±•
â””â”€â”€ package.json           # åŒ…é…ç½®ä¿¡æ¯
```

## âš™ï¸ é…ç½®è¯¦æƒ…

### ESLint é…ç½®

- ç»§æ‰¿ `eslint:recommended` å’Œ `prettier` é…ç½®
- æ”¯æŒ ES2020 è¯­æ³•
- åŒ…å«ä»£ç è´¨é‡ã€å®‰å…¨æ€§å’Œæœ€ä½³å®è·µè§„åˆ™
- è‡ªåŠ¨å¿½ç•¥ `node_modules` å’Œæ„å»ºæ–‡ä»¶

### Stylelint é…ç½®

- ç»§æ‰¿å®˜æ–¹æ ‡å‡†è§„åˆ™
- æ”¯æŒ Sass/SCSSã€Less ç­‰é¢„å¤„ç†å™¨
- ç¦æ­¢ä½¿ç”¨ ID é€‰æ‹©å™¨ï¼Œæ¨èç±»é€‰æ‹©å™¨
- æ”¯æŒ CSS å˜é‡å’Œç°ä»£ç‰¹æ€§

### Prettier é…ç½®

- ä½¿ç”¨ Tab ç¼©è¿›ï¼ˆ4 ç©ºæ ¼å®½åº¦ï¼‰
- å•å¼•å·å­—ç¬¦ä¸²
- è¯­å¥æœ«å°¾æ·»åŠ åˆ†å·
- 100 å­—ç¬¦æ¢è¡Œå®½åº¦
- æ”¯æŒå¤šç§æ–‡ä»¶ç±»å‹æ ¼å¼åŒ–

### Git é’©å­é…ç½®

- **pre-commit**: æäº¤å‰è‡ªåŠ¨è¿è¡Œä»£ç æ£€æŸ¥å’Œæ ¼å¼åŒ–
- **commit-msg**: æ£€æŸ¥æäº¤ä¿¡æ¯æ˜¯å¦ç¬¦åˆè§„èŒƒ

### VS Code é…ç½®

- è‡ªåŠ¨æ ¼å¼åŒ–ä¿å­˜
- ESLint å’Œ Stylelint å®æ—¶æ£€æŸ¥
- æ¨èå®‰è£…çš„æ‰©å±•æ’ä»¶
- ç»Ÿä¸€çš„ç¼–è¾‘å™¨è®¾ç½®

## ğŸ”§ è‡ªå®šä¹‰é…ç½®

### ç»§æ‰¿åŸºç¡€é…ç½®

å¦‚æœæ‚¨çš„é¡¹ç›®å·²æœ‰é…ç½®æ–‡ä»¶ï¼Œå·¥å…·ä¼šæ™ºèƒ½å¤„ç†ï¼š

```javascript
// .eslintrc.cjs
module.exports = {
    extends: [
        "./baseConfig/.eslintrc.base.cjs", // ç»§æ‰¿åŸºç¡€é…ç½®
        // æ‚¨çš„å…¶ä»–é…ç½®...
    ],
    // é¡¹ç›®ç‰¹å®šè§„åˆ™...
};
```

### ä¿®æ”¹è§„åˆ™

æ‚¨å¯ä»¥åœ¨é¡¹ç›®æ ¹ç›®å½•çš„é…ç½®æ–‡ä»¶ä¸­è¦†ç›–é»˜è®¤è§„åˆ™ï¼š

```javascript
// .eslintrc.cjs
module.exports = {
    extends: ["./baseConfig/.eslintrc.base.cjs"],
    rules: {
        "no-console": "off", // å…³é—­ console è­¦å‘Š
        // å…¶ä»–è‡ªå®šä¹‰è§„åˆ™...
    },
};
```

## ğŸ“‹ æ”¯æŒçš„é¢„å¤„ç†å™¨

### Sass/SCSS

- ç»§æ‰¿ `stylelint-config-standard-scss`
- æ”¯æŒ SCSS è¯­æ³•ç‰¹æ€§
- å…è®¸ `$` å˜é‡åå’Œ `@import` è¯­æ³•

### Less

- ç»§æ‰¿ `stylelint-config-standard-less`
- æ”¯æŒ Less è¯­æ³•ç‰¹æ€§
- å®Œæ•´çš„ Less è§„åˆ™æ”¯æŒ

### çº¯ CSS

- ç»§æ‰¿ `stylelint-config-standard`
- æ ‡å‡† CSS è§„åˆ™æ£€æŸ¥
- ç°ä»£ CSS ç‰¹æ€§æ”¯æŒ

## ğŸš€ å·¥ä½œæµç¨‹

1. **å¼€å‘é˜¶æ®µ**: ç¼–å†™ä»£ç ï¼Œç¼–è¾‘å™¨è‡ªåŠ¨æ ¼å¼åŒ–å’Œæ£€æŸ¥
2. **æš‚å­˜é˜¶æ®µ**: ä½¿ç”¨ `git add` æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº
3. **æäº¤é˜¶æ®µ**:
    - è‡ªåŠ¨è¿è¡Œ ESLint æ£€æŸ¥
    - è‡ªåŠ¨è¿è¡Œ Stylelint æ£€æŸ¥
    - è‡ªåŠ¨è¿è¡Œ Prettier æ ¼å¼åŒ–
    - æ£€æŸ¥æäº¤ä¿¡æ¯æ ¼å¼
4. **æ¨é€é˜¶æ®µ**: ä»£ç å·²é€šè¿‡æ‰€æœ‰è´¨é‡æ£€æŸ¥

## ğŸ“ æäº¤ä¿¡æ¯è§„èŒƒ

éµå¾ª [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒï¼š

```
type(scope): description

feat: æ·»åŠ æ–°åŠŸèƒ½
fix: ä¿®å¤ bug
docs: æ›´æ–°æ–‡æ¡£
style: ä»£ç æ ¼å¼è°ƒæ•´
refactor: ä»£ç é‡æ„
test: æ·»åŠ æµ‹è¯•
chore: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨
```

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æƒé™é”™è¯¯**: ç¡®ä¿ Husky é’©å­æœ‰æ‰§è¡Œæƒé™
2. **ä¾èµ–å†²çª**: æ£€æŸ¥ `peerDependencies` ç‰ˆæœ¬å…¼å®¹æ€§
3. **é…ç½®ä¸ç”Ÿæ•ˆ**: é‡å¯ VS Code æˆ–é‡æ–°åŠ è½½çª—å£

### æ‰‹åŠ¨ä¿®å¤

```bash
# é‡æ–°å®‰è£…ä¾èµ–
pnpm install

# é‡æ–°åˆå§‹åŒ– Husky
pnpm exec husky init

# æ‰‹åŠ¨è®¾ç½®é’©å­æƒé™
chmod +x .husky/pre-commit
chmod +x .husky/commit-msg
```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

ISC License

## ğŸ‘¨â€ğŸ’» ä½œè€…

**Ankang** - [GitHub](https://github.com/AnKang-nice)

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ªæ˜Ÿæ ‡ï¼
